<div class="auth-container">
	<mat-card class="auth-card">
		<mat-card-header>
			<mat-card-title>Create Account</mat-card-title>
		</mat-card-header>

		<mat-card-content>
			<form [formGroup]="signupForm" (ngSubmit)="onSubmit()">
				<mat-form-field appearance="outline" class="full-width">
					<mat-label>Username</mat-label>
					<input matInput formControlName="username" required />

					@if (signupForm.get('username')?.hasError('required') &&
					signupForm.get('username')?.touched ) {
					<mat-error>Username is required</mat-error>
					} @if (signupForm.get('username')?.hasError('minlength') ) {
					<mat-error>Username must be atleast 3 characters</mat-error>
					}
				</mat-form-field>

				<mat-form-field appearance="outline" class="full-width">
					<mat-label>Email</mat-label>
					<input matInput formControlName="email" type="email" required />

					@if (signupForm.get('email')?.hasError('required') && signupForm.get('email')?.touched ) {
					<mat-error>Email is required</mat-error>
					} @if (signupForm.get('email')?.hasError('email') ) {
					<mat-error>Enter a valid email</mat-error>
					}
				</mat-form-field>

				<mat-form-field appearance="outline" class="full-width">
					<mat-label>Password</mat-label>
					<input matInput formControlName="password" type="password" required />

					@if (signupForm.get('password')?.hasError('required') &&
					signupForm.get('password')?.touched ) {
					<mat-error>Password is required</mat-error>
					} @if (signupForm.get('password')?.hasError('minlength') ) {
					<mat-error>Password must be atleast 6 characters</mat-error>
					}
				</mat-form-field>

				<button
					type="submit"
					color="primary"
					mat-raised-button
					class="full-width submit-btn"
					[disabled]="signupForm.invalid || loading()">
					@if(loading()){
					<mat-spinner diameter="20"></mat-spinner>
					}@else{ Sign Up }
				</button>
			</form>

			<div class="oauth-section">
				<p>Or continue</p>
				<a href="" mat-raised-button color="accent" class="full-width">Sign up with Google</a>
			</div>

			<div class="login-link">
				<p>
					Already have an account ?
					<a routerLink="/login">Login</a>
				</p>
			</div>
		</mat-card-content>
	</mat-card>
</div>
